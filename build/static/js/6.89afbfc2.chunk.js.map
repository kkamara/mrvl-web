{"version":3,"sources":["service/comicService.jsx","utilities/methods.jsx","components/Pagination/SimplePagination.jsx","components/Comics/HomePage.jsx","redux/actions/comics.jsx"],"names":["ComicService","key","comics","useQuery","search","useLocation","useMemo","URLSearchParams","withRouter","data","hideFields","offset","queryOffset","get","isNaN","parseInt","disableLeftPaginator","disableRightPaginator","count","limit","filters","length","prevOffset","nextOffset","prevOffsetURL","URL","window","location","href","searchParams","set","append","nextOffsetURL","className","onClick","e","comicService","connect","state","dispatch","getComics","error","success","type","payload","comicsActions","GET_COMICS_PENDING","marvelService","then","json","GET_COMICS_SUCCESS","catch","err","GET_COMICS_ERROR","getFavComics","fetchFavItems","query","fetched","loading","pageTitle","APP_NAME","useState","isOpenStatesPerComic","setisOpenStatesPerComic","useEffect","loadComics","loadFavComics","dataHasLoaded","undefined","results","content","SimplePagination","map","comic","Comic","disablePrevPaginator","shouldDisableLeftPaginator","disableNextPaginator","shouldDisableRightPaginator","openDefaultValue","openNextComic","isOpenStatesPerComicNew","forEach","_","k","openPrevComic","onCloseCallback","Loader","Helmet","name","img","images","description","path","extension","__renderHeaderTags"],"mappings":"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","file":"static/js/6.89afbfc2.chunk.js","sourcesContent":["\nexport default class ComicService{\n    shouldDisableLeftPaginator(key, comics) {\n        if (!comics[key - 1]) {\n            return true\n        }\n        return false\n    }\n    \n    shouldDisableRightPaginator(key, comics) {\n        if (!comics[key + 1]) {\n            return true\n        }\n        return false\n    }\n}\n","import React, { useMemo, } from \"react\"\nimport { useLocation, } from 'react-router-dom'\n\nexport const convertArrayToGETParams = params => {\n    let data = []\n    for (let key in params) {\n        if (params[key].length > 0) {\n            data.push(`${key}=${params[key]}`)\n        }\n    }\n    return data.join(\"&\")\n}\n\nexport function useQuery() {\n    const { search } = useLocation();\n  \n    return useMemo(() => new URLSearchParams(search), [search]);\n}\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { useQuery, } from '../../utilities/methods'\n\nconst SimplePagination = ({ data, hideFields, }) => {\n    const query = useQuery()\n    let offset = 0\n\n    let queryOffset = query.get('offset')\n    if (queryOffset && !isNaN(parseInt(queryOffset))) {\n        offset = parseInt(queryOffset)\n    }\n    \n    let disableLeftPaginator = false,\n        disableRightPaginator = false\n    if (offset < 1) {\n        disableLeftPaginator = true\n    }\n    if (data.count < data.limit) {\n        disableRightPaginator = true\n    }\n\n    let uriEncodedFilters = ''\n    if (\n        typeof data.filters !== 'undefined' &&\n        typeof data.filters === 'string' &&\n        data.filters.length\n    ) uriEncodedFilters += `&${data.filters}`\n\n    const prevOffset = offset - 20\n    const nextOffset = offset + 20\n\n    const prevOffsetURL = new URL(window.location.href)\n    if (null !== prevOffsetURL.searchParams.get('offset')) {\n        prevOffsetURL.searchParams.set('offset', prevOffset)\n    } else {\n        prevOffsetURL.searchParams.append('offset', prevOffset)\n    }\n\n    const nextOffsetURL = new URL(window.location.href)\n    if (null !== nextOffsetURL.searchParams.get('offset')) {\n        nextOffsetURL.searchParams.set('offset', nextOffset)\n    } else {\n        nextOffsetURL.searchParams.append('offset', nextOffset)\n    }\n\n    if (hideFields && null === nextOffsetURL.searchParams.get('hideFields')) {\n        nextOffsetURL.searchParams.append('hideFields', hideFields)\n    }\n    if (hideFields && null === prevOffsetURL.searchParams.get('hideFields')) {\n        prevOffsetURL.searchParams.append('hideFields', hideFields)\n    }\n\n    const leftPaginateBtnClick = e => {\n        if (disableLeftPaginator) return\n        window.location.href = prevOffsetURL.href\n    }\n\n    const rightPaginateBtnClick = e => {\n        if (disableRightPaginator) return\n        window.location.href = nextOffsetURL.href\n    }\n    \n    return <>\n        <nav aria-label='Comic pagination'>\n            <ul className='pagination justify-content-center'>\n                <li onClick={leftPaginateBtnClick} className={`page-item ${disableLeftPaginator ? 'disabled' : ''}`}>\n                    <a className='page-link' href={prevOffsetURL.href}>Previous</a>\n                </li>\n                <li onClick={rightPaginateBtnClick} className={`page-item ${disableRightPaginator ? 'disabled' : ''}`}>\n                    <a className='page-link' href={nextOffsetURL.href}>Next</a>\n                </li>\n            </ul>\n        </nav>\n    </>\n}\n\nexport default withRouter(SimplePagination)\n","import React, { \n\tuseState, \n\tuseEffect, \n\tuseCallback,\n} from \"react\"\nimport { connect, } from \"react-redux\"\nimport { Helmet, } from \"react-helmet\"\nimport ComicService from '../../service/comicService'\n\nimport { getComics, } from \"../../redux/actions/comics\"\nimport { getFavComics, } from \"../../redux/actions/comic\"\nimport SimplePagination from \"../Pagination/SimplePagination\"\nimport Comic from '../Comic'\n\nimport { useQuery, } from '../../utilities/methods'\nimport Loader from \"../Loader\"\nimport { APP_NAME, } from \"../../constants\"\n\nimport './HomePage.scss'\n\nconst comicService = new ComicService\n\nconst HomePage = ({ \n\tcomics, \n\tgetComics,\n\tgetFavComics,\n}) => {\n\tconst query = useQuery()\n\tlet offset = 0\n\n\tlet queryOffset = query.get('offset')\n\tif (queryOffset && !isNaN(parseInt(queryOffset))) {\n\t\t\toffset = parseInt(queryOffset)\n\t}\n\n\tconst { data, fetched, loading, } = comics\n\tconst pageTitle = `Home | ${APP_NAME}`\n\n\tconst [isOpenStatesPerComic, setisOpenStatesPerComic] = useState(null)\n\n\tuseEffect(() => {\n\t\tloadComics(offset)\n\t\tloadFavComics()\n\t}, [])\n\n\tconst loadComics = (offset) => {\n\t\tgetComics(offset)\n\t}\n\n\tconst loadFavComics = () => {\n\t\tgetFavComics()\n\t}\n\n\tconst __renderHeaderTags = () => {\n\t\tif (data === false) {\n\t\t\treturn <Helmet>\n\t\t\t\t<title>{pageTitle}</title>\n\t\t\t\t<meta name=\"title\" content={pageTitle} />\n\t\t\t\t<meta name=\"url\" content={window.location.href} />\n\t\t\t</Helmet>\n\t\t}\n\n\t\tconst comic = data.results[11]\n\t\tconst img = comic.images[0]\n\n\t\treturn <Helmet>\n\t\t\t<title>{pageTitle}</title>\n\t\t\t<meta name=\"title\" content={pageTitle} />\n\t\t\t<meta name=\"url\" content={window.location.href} />\n\t\t\t<meta name=\"description\" content={comic.description}/>\n\t\t\t{img ?\n\t\t\t\t<meta name=\"image\" content={img.path + img.extension} /> :\n\t\t\t\tnull}\n\t\t</Helmet>\n\t}\n\n\tconst dataHasLoaded = !(!data ||\n\t\t!(\n\t\t\t(typeof data === 'object' && data !== null) &&\n\t\t\tdata.results !== undefined\n\t\t) ||\n\t\t!data.results.length)\n\n\tconst __renderComics = () => {\n\t\tif (!dataHasLoaded) {\n\t\t\treturn <p>No results to display your query.</p>\n\t\t}\n\n\t\treturn data.results.map((comic, key) => {\n\t\t\treturn <Comic \n\t\t\t\tkey={key} \n\t\t\t\tcomic={comic}\n\t\t\t\tdisablePrevPaginator={comicService.shouldDisableLeftPaginator(key, data.results)}\n\t\t\t\tdisableNextPaginator={comicService.shouldDisableRightPaginator(key, data.results)}\n\t\t\t\topenDefaultValue={isOpenStatesPerComic && isOpenStatesPerComic.length ? isOpenStatesPerComic[key] : false}\n\t\t\t\topenNextComic={() => { \n\t\t\t\t\tsetisOpenStatesPerComic(isOpenStatesPerComic => {\n\t\t\t\t\t\tconst isOpenStatesPerComicNew = []\n\t\t\t\t\t\tdata.results.forEach((_, k) => {\n\t\t\t\t\t\t\tisOpenStatesPerComicNew[k] = false\n\t\t\t\t\t\t})\n\t\t\t\t\t\tisOpenStatesPerComicNew[key] = false; \n\t\t\t\t\t\tisOpenStatesPerComicNew[key + 1] = true; \n\t\t\t\t\t\treturn isOpenStatesPerComicNew\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t\topenPrevComic={() => { \n\t\t\t\t\tsetisOpenStatesPerComic(isOpenStatesPerComic => {\n\t\t\t\t\t\tconst isOpenStatesPerComicNew = []\n\t\t\t\t\t\tdata.results.forEach((_, k) => {\n\t\t\t\t\t\t\tisOpenStatesPerComicNew[k] = false\n\t\t\t\t\t\t})\n\t\t\t\t\t\tisOpenStatesPerComicNew[key] = false; \n\t\t\t\t\t\tisOpenStatesPerComicNew[key - 1] = true; \n\t\t\t\t\t\treturn isOpenStatesPerComicNew\t\t\t\t\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t\tonCloseCallback={() => { \n\t\t\t\t\tsetisOpenStatesPerComic(isOpenStatesPerComic => {\n\t\t\t\t\t\tconst isOpenStatesPerComicNew = []\n\t\t\t\t\t\tdata.results.forEach((_, k) => {\n\t\t\t\t\t\t\tisOpenStatesPerComicNew[k] = false\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn isOpenStatesPerComicNew\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t/>\n\t\t})\n\t}\n\n\tlet content = null\n\n\tif (fetched && !loading) {\n\t\tcontent = (\n\t\t\t<div className=\"container text-center\">\n\t\t\t\t<div className=\"content-header\">\n\t\t\t\t\t<SimplePagination data={data} />\n\t\t\t\t</div>\n\t\t\t\t{__renderComics()}\n\t\t\t\t<div className=\"content-footer\">\n\t\t\t\t\t<SimplePagination data={data} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t} else if (!fetched && loading) {\n\t\tcontent = <Loader />\n\t} else {\n\t\tcontent = <div className=\"container\">\n\t\t\t<div>Unknown error encountered</div>\n\t\t</div>\n\t}\n\n\treturn <>\n\t\t{__renderHeaderTags()}\n\t\t{content}\n\t</>\n}\n\nconst mapStateToProps = state => ({\n\tcomics: state.comics,\n})\nconst mapDispatchToProps = dispatch => ({\n\tgetComics: offset => dispatch(getComics(offset)),\n\tgetFavComics: (fetchFavItems) => dispatch(getFavComics(fetchFavItems)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage)\n","import { comicsActions, } from \"../reducers/types\"\nimport marvelService from \"../../service/marvelService\"\n\nexport function getComics(offset = null) {\n    return async dispatch => {\n        dispatch(request(comicsActions.GET_COMICS_PENDING))\n        await (new marvelService()).getComics({offset,})\n            .then(json => {\n                dispatch(\n                    success(comicsActions.GET_COMICS_SUCCESS, json.data.data)\n                )\n            })\n            .catch(err => {\n                dispatch(error(comicsActions.GET_COMICS_ERROR, err))\n            })\n\n        function request(type) {\n            return {\n                type\n            }\n        }\n\n        function error(type, payload) {\n            return {\n                type,\n                payload\n            }\n        }\n\n        function success(type, payload) {\n            return {\n                type,\n                payload\n            }\n        }\n    }\n}\n"],"sourceRoot":""}